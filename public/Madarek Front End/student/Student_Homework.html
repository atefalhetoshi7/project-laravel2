<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯Ø§Ø±Ùƒ - ÙˆØ§Ø¬Ø¨Ø§ØªÙŠ</title>
    <link rel="stylesheet" href="Style.css">
    <link href="https://fonts.googleapis.com/css?family=Cairo&display=swap" rel="stylesheet">
</head>
<body>
    <div class="student-header">
        <button class="sidebar-toggle" id="sidebarToggle" title="Ø¥ØºÙ„Ø§Ù‚/ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">&#9776;</button>
        <div class="student-header-left">
            <span class="student-title">ÙˆØ§Ø¬Ø¨Ø§ØªÙŠ</span>
        </div>
        <div class="student-header-right">
            <span class="student-notifications" title="Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª" style="cursor:pointer; font-size: 1.3em; margin: 0 8px; position: relative;">
                ğŸ””
                <span id="notification-count" style="display:none; position: absolute; top: -8px; right: -8px; background: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.8em; min-width: 18px; text-align: center;">0</span>
            </span>
            <span class="student-messages" title="Ø§Ù„Ù†Ù‚Ø§Ø´Ø§Øª" style="cursor:pointer; font-size: 1.3em; margin-left: 8px; position: relative;" onclick="window.location.href='Student_Discussion.html'">
                ğŸ’¬
                <span id="message-count" style="display:none; position: absolute; top: -8px; right: -8px; background: #2196f3; color: white; border-radius: 50%; padding: 2px 6px; font-size: 0.8em; min-width: 18px; text-align: center;">0</span>
            </span>
            <span class="student-user">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø§Ù„Ø·Ø§Ù„Ø¨</span>
            <button class="logout-btn">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </div>
    </div>
    <div id="sidebar-overlay" class="sidebar-overlay"></div>
    <div class="student-sidebar">
        <h2 class="sidebar-title">Ù…Ø¯Ø§Ø±ÙÙƒ</h2>
        <button class="sidebar-toggle sidebar-toggle-inside" id="sidebarToggleInside" title="Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©" style="display:none">&#10005;</button>
        <ul>
            <li><a href="StudentDashboard.html" id="dashboard-link"><span class="icon">ğŸ </span> Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª </a></li>
            <li><a href="Student_Lessons.html" id="courses-link"><span class="icon">ğŸ“š</span> Ø¯Ø±ÙˆØ³ÙŠ </a></li>
            <li><a href="Student_Homework.html" id="assignments-link" class="active"><span class="icon">ğŸ“</span> ÙˆØ§Ø¬Ø¨Ø§ØªÙŠ </a></li>
            <li><a href="Student_Grades.html" id="grades-link"><span class="icon">ğŸ“Š</span> Ø¯Ø±Ø¬Ø§ØªÙŠ</a></li>
            <li><a href="Student_Attendance.html" id="attendance-link"><span class="icon">ğŸ“…</span> Ø§Ù„Ø­Ø¶ÙˆØ±</a></li>
            <li><a href="Student_Courses.html" id="courses-link"><span class="icon">ğŸ‘¨â€ğŸ«</span> Ø§Ù„Ø¯ÙˆØ±Ø§Øª </a></li>
        </ul>
    </div>
    <div class="student-main" id="student-main-content">
        <div class="lessons-header">
            <span class="lessons-icon">ğŸ“</span>
            <span class="lessons-title">ÙˆØ§Ø¬Ø¨Ø§ØªÙŠ</span>
        </div>
        <div class="lessons-grid-container" id="homework-grid-container">
            <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
        </div>
    </div>
    <script>
    // ==================== ÙƒÙˆØ¯ ØµÙØ­Ø© ÙˆØ§Ø¬Ø¨Ø§ØªÙŠ (Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ§Ø¯ ÙƒÙ…Ø±Ø¨Ø¹Ø§Øª) ====================
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯ (Ù†ÙØ³Ù‡Ø§ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø¯Ø±ÙˆØ³)
    const subjectsMeta = {
        "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª": { icon: "ğŸ§®", color: "#f7b731", bg: "#fffbe6" },
        "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©": { icon: "ğŸ“–", color: "#eb3b5a", bg: "#fff0f3" },
        "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù†Ø¬Ù„ÙŠØ²ÙŠØ©": { icon: "ğŸ‡¬ğŸ‡§", color: "#3867d6", bg: "#eaf0ff" },
        "Ø§Ù„Ø¹Ù„ÙˆÙ…": { icon: "ğŸ”¬", color: "#20bf6b", bg: "#eafff3" },
        "Ø§Ù„Ø­Ø§Ø³ÙˆØ¨": { icon: "ğŸ’»", color: "#8854d0", bg: "#f3eaff" },
        "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ù„Ø§Ù…ÙŠØ©": { icon: "ğŸ•Œ", color: "#0fb9b1", bg: "#e6fffa" },
        "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§": { icon: "ğŸŒ", color: "#fd9644", bg: "#fff7e6" },
        "Ø§Ù„ØªØ§Ø±ÙŠØ®": { icon: "ğŸº", color: "#a55eea", bg: "#f7eaff" }
    };
    // Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø¬Ø¨Ø§Øª ÙˆÙ‡Ù…ÙŠØ©
    const homeworkData = [
        // Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª
        { id: 1, subject: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", class: "Ø§Ù„Ø£ÙˆÙ„", title: "Ø­Ù„ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª", desc: "Ø­Ù„ 5 Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø®Ø·ÙŠØ© Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨.", due: "2025-05-25 23:59", file: "math-hw1.pdf" },
        { id: 101, subject: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", class: "Ø§Ù„Ø£ÙˆÙ„", title: "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙƒØ³ÙˆØ±", desc: "Ø­Ù„ ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ÙƒØ³ÙˆØ± Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ ØµÙØ­Ø© 22.", due: "2025-05-15 23:59", file: "" },
        // Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        { id: 2, subject: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", class: "Ø§Ù„Ø«Ø§Ù†ÙŠ", title: "ØªØ¹Ø¨ÙŠØ± ÙƒØªØ§Ø¨ÙŠ", desc: "Ø§ÙƒØªØ¨ Ù…ÙˆØ¶ÙˆØ¹ ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„ÙˆØ·Ù†.", due: "2025-05-26 20:00", file: "" },
        { id: 102, subject: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", class: "Ø§Ù„Ø«Ø§Ù†ÙŠ", title: "Ø¥Ù…Ù„Ø§Ø¡", desc: "ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ ÙƒØªØ§Ø¨Ø© Ù†Øµ Ø¥Ù…Ù„Ø§Ø¦ÙŠ.", due: "2025-05-10 20:00", file: "" },
        // Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
        { id: 3, subject: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", class: "Ø§Ù„Ø«Ø§Ù„Ø«", title: "Reading Skills", desc: "Ø­Ù„ ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ØµÙØ­Ø© 10.", due: "2025-05-27 18:00", file: "english-hw.pdf" },
        { id: 103, subject: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", class: "Ø§Ù„Ø«Ø§Ù„Ø«", title: "Grammar Practice", desc: "Ø­Ù„ ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ØµÙØ­Ø© 15.", due: "2025-05-12 18:00", file: "" },
        // Ø§Ù„Ø¹Ù„ÙˆÙ…
        { id: 4, subject: "Ø§Ù„Ø¹Ù„ÙˆÙ…", class: "Ø§Ù„Ø£ÙˆÙ„", title: "Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø·Ø§Ù‚Ø©", desc: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆÙÙˆØ§Ø¦Ø¯Ù‡Ø§.", due: "2025-05-28 21:00", file: "energy.pdf" },
        { id: 104, subject: "Ø§Ù„Ø¹Ù„ÙˆÙ…", class: "Ø§Ù„Ø£ÙˆÙ„", title: "ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø§Ø¡", desc: "ØªÙ‚Ø±ÙŠØ± Ø¹Ù† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø§Ø¡ ÙÙŠ Ø§Ù„Ù…Ø®ØªØ¨Ø±.", due: "2025-05-14 21:00", file: "" },
        // Ø§Ù„Ø­Ø§Ø³ÙˆØ¨
        { id: 5, subject: "Ø§Ù„Ø­Ø§Ø³ÙˆØ¨", class: "Ø§Ù„Ø«Ø§Ù„Ø«", title: "Ø¨Ø±Ù…Ø¬Ø© Ø¨Ø³ÙŠØ·Ø©", desc: "Ø¨Ø±Ù…Ø¬Ø© Ø¢Ù„Ø© Ø¬Ù…Ø¹ Ø¨Ø³ÙŠØ·Ø© Ø¨Ù„ØºØ© Ø¨Ø§ÙŠØ«ÙˆÙ†.", due: "2025-05-29 21:00", file: "" },
        { id: 105, subject: "Ø§Ù„Ø­Ø§Ø³ÙˆØ¨", class: "Ø§Ù„Ø«Ø§Ù„Ø«", title: "Ù…Ù‚Ø¯Ù…Ø© Ø¹Ù† Ø§Ù„Ø­Ø§Ø³ÙˆØ¨", desc: "Ø¨Ø­Ø« Ù‚ØµÙŠØ± Ø¹Ù† Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø­Ø§Ø³ÙˆØ¨.", due: "2025-05-13 21:00", file: "" },
        // Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ù„Ø§Ù…ÙŠØ©
        { id: 6, subject: "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ù„Ø§Ù…ÙŠØ©", class: "Ø§Ù„Ø«Ø§Ù†ÙŠ", title: "Ø­ÙØ¸ Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©", desc: "Ø­ÙØ¸ ÙˆØªÙ„Ø§ÙˆØ© Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©.", due: "2025-05-27 23:59", file: "" },
        { id: 106, subject: "Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ù„Ø§Ù…ÙŠØ©", class: "Ø§Ù„Ø«Ø§Ù†ÙŠ", title: "Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…", desc: "ØªÙ„Ø®ÙŠØµ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø§Ù„Ø®Ù…Ø³Ø©.", due: "2025-05-11 23:59", file: "" },
        // Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§
        { id: 7, subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§", class: "Ø§Ù„Ø£ÙˆÙ„", title: "Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù†Ø§Ø®", desc: "Ø¨Ø­Ø« Ø¹Ù† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù†Ø§Ø® ÙÙŠ Ø§Ù„ÙˆØ·Ù† Ø§Ù„Ø¹Ø±Ø¨ÙŠ.", due: "2025-05-28 20:00", file: "geo-hw.pdf" },
        { id: 107, subject: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§", class: "Ø§Ù„Ø£ÙˆÙ„", title: "Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¹Ø§Ù„Ù…", desc: "Ø±Ø³Ù… Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¹Ø§Ù„Ù… ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø±Ø§Øª.", due: "2025-05-16 20:00", file: "" },
        // Ø§Ù„ØªØ§Ø±ÙŠØ®
        { id: 8, subject: "Ø§Ù„ØªØ§Ø±ÙŠØ®", class: "Ø§Ù„Ø«Ø§Ù„Ø«", title: "Ø§Ù„Ø­Ø¶Ø§Ø±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©", desc: "Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø¶Ø§Ø±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©.", due: "2025-05-29 18:00", file: "islamic-civ.pdf" },
        { id: 108, subject: "Ø§Ù„ØªØ§Ø±ÙŠØ®", class: "Ø§Ù„Ø«Ø§Ù„Ø«", title: "Ø§Ù„Ø«ÙˆØ±Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©", desc: "ØªÙ„Ø®ÙŠØµ Ø¹Ù† Ø§Ù„Ø«ÙˆØ±Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©.", due: "2025-05-12 18:00", file: "" }
    ];
    function renderHomeworkSubjectsGrid() {
        const container = document.getElementById('homework-grid-container');
        container.innerHTML = '';
        Object.keys(subjectsMeta).forEach(subject => {
            const subjectHomeworks = homeworkData.filter(h => h.subject === subject);
            const newHomeworks = subjectHomeworks.filter(h => isNewItem(h.due));
            const latestNewHomework = newHomeworks.length ? newHomeworks.reduce((a, b) => new Date(a.due) > new Date(b.due) ? a : b).due : null;
            let badgeHtml = '';
            if (newHomeworks.length && !isSubjectRead('homework', subject, latestNewHomework)) {
                badgeHtml = `<span class="subject-badge-new">${newHomeworks.length} Ø¬Ø¯ÙŠØ¯</span>`;
            }
            container.innerHTML += `<div class="subject-card" data-bg="${subject}" data-subject="${subject}" style="cursor:pointer;display:flex;align-items:center;justify-content:center;min-height:260px;">
                ${badgeHtml}
                <div class="subject-content">
                    <span class="subject-icon" style="font-size:4.2rem;">${subjectsMeta[subject].icon}</span>
                    <div class="subject-title">${subject}</div>
                </div>
            </div>`;
        });
        const cards = container.querySelectorAll('.subject-card');
        cards.forEach(card => {
            card.onclick = function() {
                const subject = card.getAttribute('data-subject');
                const subjectHomeworks = homeworkData.filter(h => h.subject === subject);
                const newHomeworks = subjectHomeworks.filter(h => isNewItem(h.due));
                const latestNewHomework = newHomeworks.length ? newHomeworks.reduce((a, b) => new Date(a.due) > new Date(b.due) ? a : b).due : null;
                if (latestNewHomework) markSubjectAsRead('homework', subject, latestNewHomework);
                localStorage.setItem('selectedHomeworkSubject', subject);
                window.location.href = 'Student_Homework_Subject.html';
            };
        });
    }
    document.addEventListener('DOMContentLoaded', function() {
        renderHomeworkSubjectsGrid();
    });
    // ==================== Ù†Ù‡Ø§ÙŠØ© ÙƒÙˆØ¯ ØµÙØ­Ø© ÙˆØ§Ø¬Ø¨Ø§ØªÙŠ ====================
    </script>
    <script src="Script.js"></script>
</body>
</html>
