<div class="card">
    <div class="flex justify-between items-center mb-6">
        <h2 class="card-title">ساحة النقاشات</h2>
        <button id="create-topic-btn" class="btn btn-secondary">
            <i data-lucide="plus-circle" class="w-5 h-5"></i>
            إنشاء موضوع جديد
        </button>
    </div>

    <!-- Discussion Topics List -->
    <div class="space-y-4">
        <!-- Topic 1 -->
        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 hover:shadow-sm">
            <h3 class="font-semibold text-lg text-secondary mb-1">استفسار حول الدرس الخامس في دورة بايثون</h3>
            <p class="text-sm text-gray-600 mb-2">طرحه: <span class="font-medium">أحمد محمد</span> | الدورة: <span class="font-medium">مقدمة في البرمجة</span></p>
            <div class="flex justify-between items-center text-xs text-gray-500">
                <span><i data-lucide="message-square" class="inline-block w-3 h-3 mr-1"></i> 5 ردود</span>
                <span>آخر رد: منذ ساعتين</span>
            </div>
            <button class="mt-3 text-sm text-secondary hover:underline">عرض الموضوع والردود</button>
        </div>

        <!-- Topic 2 -->
        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 hover:shadow-sm">
            <h3 class="font-semibold text-lg text-secondary mb-1">أفضل الأدوات لتصميم الشعارات</h3>
            <p class="text-sm text-gray-600 mb-2">طرحه: <span class="font-medium">فاطمة علي</span> | الدورة: <span class="font-medium">تصميم الجرافيك</span></p>
            <div class="flex justify-between items-center text-xs text-gray-500">
                <span><i data-lucide="message-square" class="inline-block w-3 h-3 mr-1"></i> 12 ردًا</span>
                <span>آخر رد: أمس</span>
            </div>
             <button class="mt-3 text-sm text-secondary hover:underline">عرض الموضوع والردود</button>
        </div>
    </div>
</div>

<!-- Modal for Creating a New Discussion Topic -->
<div id="createTopicModal" class="modal-backdrop">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">إنشاء موضوع نقاش جديد</h3>
            <button class="modal-close-btn" onclick="closeModal('createTopicModal')"><i data-lucide="x"></i></button>
        </div>
        <form id="createTopicForm">
            <div class="form-group">
                <label for="topicTitle">عنوان الموضوع</label>
                <input type="text" id="topicTitle" name="topicTitle" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="topicCourse">الدورة المرتبطة</label>
                <select id="topicCourse" name="topicCourse" class="form-select" required>
                    <option value="">اختر الدورة</option>
                     <option value="python">مقدمة في البرمجة بلغة بايثون</option>
                    <option value="graphic_design">تصميم الجرافيك للمبتدئين</option>
                    <option value="business_english">اللغة الإنجليزية للأعمال</option>
                    <option value="all">نقاش عام (لجميع الدورات)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="topicMessage">الرسالة الأولى</label>
                <textarea id="topicMessage" name="topicMessage" class="form-textarea" rows="4" required></textarea>
            </div>
            <div class="flex justify-end space-x-3 space-x-reverse">
                <button type="button" class="btn btn-outline" onclick="closeModal('createTopicModal')">إلغاء</button>
                <button type="submit" class="btn btn-secondary">نشر الموضوع</button>
            </div>
        </form>
    </div>
</div>

<!-- Example of a Topic View (simplified, would be more complex in reality) -->
<div class="mt-8 card hidden" id="topic-view-example">
    <h2 class="card-title mb-2">استفسار حول الدرس الخامس في دورة بايثون</h2>
    <p class="text-xs text-gray-500 mb-4">الدورة: مقدمة في البرمجة | طرحه: أحمد محمد</p>
    
    <!-- Original Post -->
    <div class="mb-6 p-4 bg-gray-50 rounded-md">
        <p class="text-gray-700">السلام عليكم، لدي استفسار بخصوص مفهوم الـ Loops في الدرس الخامس. هل يمكن تقديم مثال إضافي؟</p>
        <p class="text-xs text-gray-400 mt-2">منذ 3 ساعات</p>
    </div>

    <h3 class="text-lg font-semibold text-gray-700 mb-3">الردود (3)</h3>
    <!-- Replies -->
    <div class="space-y-4 mb-6">
        <div class="p-3 bg-blue-50 rounded-md border-r-4 border-primary">
            <p class="font-semibold text-sm text-primary">المعلم الخارجي (أنت)</p>
            <p class="text-gray-700 text-sm">وعليكم السلام أحمد، بالطبع. سأقوم بإضافة مثال توضيحي للمحاضرة القادمة وكذلك ملف إضافي للشرح المفصل.</p>
            <p class="text-xs text-gray-400 mt-1">منذ ساعتين</p>
        </div>
        <div class="p-3 bg-gray-50 rounded-md">
            <p class="font-semibold text-sm text-gray-800">فاطمة علي</p>
            <p class="text-gray-700 text-sm">شكراً على السؤال أحمد، كنت أواجه نفس الصعوبة.</p>
            <p class="text-xs text-gray-400 mt-1">منذ ساعة</p>
        </div>
    </div>

    <!-- Add Comment Form -->
    <div>
        <h3 class="text-md font-semibold text-gray-700 mb-2">إضافة تعليق جديد</h3>
        <textarea class="form-textarea mb-3" placeholder="اكتب تعليقك هنا..." rows="3"></textarea>
        <button class="btn btn-secondary">إرسال التعليق</button>
    </div>
</div>
